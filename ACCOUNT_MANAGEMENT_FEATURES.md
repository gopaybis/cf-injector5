# 多 Cloudflare 账号管理功能

## 已实现的功能

### 1. 账号凭证管理
- ✅ 创建账号凭证实体 (`AccountCredentials` 接口)
- ✅ 支持账号名称、邮箱、Global API Key、Account ID、标签、备注等字段
- ✅ 自动生成唯一 ID 和时间戳

### 2. 加密存储
- ✅ 基于 IndexedDB 的本地存储
- ✅ 使用 Web Crypto API 进行 AES-GCM 加密
- ✅ 敏感数据（Global API Key、Account ID）加密存储
- ✅ 自动生成和管理加密密钥

### 3. 账号管理界面
- ✅ 账号选择器组件 (`AccountSelector`)
- ✅ 账号管理页面 (`AccountManagement`)
- ✅ 支持添加、编辑、删除账号
- ✅ 账号列表显示（包含头像、标签、状态等）
- ✅ 当前账号指示器

### 4. React Context 集成
- ✅ `AccountContext` 提供全局账号状态管理
- ✅ `useAccount` Hook 简化组件中的账号操作
- ✅ 自动加载和持久化当前选中账号

### 5. 国际化支持
- ✅ 英文和中文翻译
- ✅ 所有账号管理相关的文本都支持国际化

### 6. 主应用集成
- ✅ 移除原有的邮箱和 API Key 输入框
- ✅ 集成账号选择器到页面顶部
- ✅ 创建 Worker 时自动使用当前选中账号的凭证
- ✅ 账号未选择时的友好提示

## 使用流程

1. **首次使用**：
   - 用户看到"添加第一个账号"按钮
   - 点击后打开账号管理页面
   - 填写账号信息（名称、邮箱、Global API Key 等）
   - 保存后自动设为当前账号

2. **日常使用**：
   - 在页面顶部的账号选择器中切换账号
   - 创建 Worker 时自动使用当前账号的凭证
   - 可以通过管理按钮打开账号管理页面

3. **账号管理**：
   - 查看所有账号列表
   - 编辑账号信息
   - 删除不需要的账号
   - 设置当前使用的账号

## 安全特性

- 敏感数据（Global API Key）使用 AES-GCM 加密存储
- 加密密钥存储在独立的 IndexedDB 存储中
- 支持浏览器的安全上下文要求
- 数据仅存储在用户本地，不会上传到服务器

## 技术实现

- **存储**: IndexedDB + Web Crypto API
- **状态管理**: React Context + Hooks
- **UI 组件**: Ant Design
- **国际化**: react-i18next
- **类型安全**: TypeScript

## 下一步计划

- [ ] 账号导入/导出功能
- [ ] 账号使用统计
- [ ] 批量操作支持
- [ ] 账号分组功能
- [ ] 更多安全选项（如密码保护） 